(()=>{let e=document.querySelector(".welcome__slider-wrapper"),t=document.querySelectorAll(".welcome__control-slide_pag > ul > li"),o=document.querySelector(".welcome__control-num > span"),n=1,s=!0;function a(t,o){console.log(o),e.classList.add(t),e.addEventListener("animationend",(function(){this.classList.remove(t,`welcome__slide${o}`)}))}function c(t,o,n){console.log(n),e.classList.add(t),e.addEventListener("animationend",(function(){this.classList.remove(t,o,`newSlide${n}`),this.classList.add(`welcome__slide${n}`),s=!0}))}function r(){s=!1,t[n-1].classList.remove("active"),5===n?(t[0].classList.add("active"),o.innerHTML="01"):(t[n].classList.add("active"),o.innerHTML=n<9?"0"+ ++n:++n,n--),l(n,n+1)}function i(){s=!1,t[n-1].classList.remove("active"),1===n?(t[4].classList.add("active"),o.innerHTML=n<11?"05":5):(t[n-2].classList.add("active"),o.innerHTML=n<11?"0"+--n:--n,n++),d(n,n-1)}function l(t,o){a("after-to-left",t),n=6===o?1:o,e.classList.add("next",`newSlide${n}`),c("before-from-right","next",n)}function d(t,o){a("after-to-right",t),n=0==o?5:o,e.classList.add("prev",`newSlide${n}`),c("before-from-left","prev",n)}document.querySelector(".welcome__control-arrow.arrow-left").addEventListener("click",(function(){console.log("clicked-left"),s&&i()})),document.querySelector(".welcome__control-arrow.arrow-right").addEventListener("click",(function(){console.log("clicked-right"),s&&r()})),t.forEach(((e,a)=>{e.addEventListener("click",(function(c){"active"!==e.classList.value&&s&&(s=!1,t.forEach(((e,t)=>{"active"===e.classList.value&&e.classList.remove("active"),e.style.backgroundcolor="#fff"})),e.classList.add("active"),e.style.backgroundcolor="#D2B183",o.innerHTML=a+1<10?"0"+ ++a:++a,--a>=n?l(n,a+1):d(n,a+1))}))})),(e=>{let t=0,o=0,n=0,a=0,c=0,l=0;function d(){l=(new Date).getTime()-c,l<=300&&Math.abs(n)>=150&&Math.abs(a)<=100&&(n>0?s&&i():s&&r())}e.addEventListener("mousedown",(function(e){t=e.pageX,o=e.pageY,c=(new Date).getTime(),e.preventDefault()}),!1),e.addEventListener("mouseup",(function(e){n=e.pageX-t,a=e.pageY-o,d(),e.preventDefault()}),!1),e.addEventListener("touchstart",(function(e){e.target.classList.contains(".welcome__control-arrow.arrow-left")?s&&i():s&&r();let n=e.changedTouches[0];t=n.pageX,o=n.pageY,c=(new Date).getTime(),e.preventDefault()}),!1),e.addEventListener("touchmove",(function(e){e.preventDefault()}),!1),e.addEventListener("touchend",(function(e){touchObj=e.changedTouches[0],n=touchObj.pageX-t,a=touchObj.pageY-o,d(),e.preventDefault()}),!1)})(e),function(){var e,t;for(e=document.getElementsByClassName("explore__image__after"),t=0;t<e.length;t++)o(e[t]);function o(e){var t,o,n,s=0;function a(e){e.preventDefault(),s=1,window.addEventListener("mousemove",r),window.addEventListener("touchmove",r)}function c(){s=0}function r(n){var a;if(0==s)return!1;a=function(t){var o;return t=t||window.event,o=e.getBoundingClientRect(),t.pageX-o.left-window.pageXOffset}(n),a<0&&(a=0),a>o&&(a=o),function(o){e.style.width=o+"px",t.style.left=e.offsetWidth-t.offsetWidth/2+"px"}(a)}o=e.offsetWidth,n=e.offsetHeight,e.style.width=o/2+"px",(t=document.createElement("DIV")).setAttribute("class","explore-slider"),e.parentElement.insertBefore(t,e),t.style.top=n/2-t.offsetHeight/2+"px",t.style.left=o/2-t.offsetWidth/2+"px",t.addEventListener("mousedown",a),window.addEventListener("mouseup",c),t.addEventListener("touchstart",a),window.addEventListener("touchstop",c)}}();const u=document.querySelector(".hamburger"),p=document.querySelector(".overlay"),m=document.querySelector(".header__navigation"),f=document.querySelector(".welcome-title"),g=document.querySelector(".welcome-desc"),v=document.querySelector(".welcome__button"),L=document.querySelector(".tickets__button"),h=document.querySelector(".form__x");function w(){const e=document.querySelector(".popup");if(console.log(e),!e.classList.contains("popup-active"))return e.classList.add("popup-active"),p.classList.add("overlay-fadeIn"),!1;console.log("dich"),e.classList.remove("popup-active"),e.classList.add("popup-disabled"),p.classList.remove("overlay-fadeIn"),console.log("overlay: "+p),setTimeout((()=>{e.classList.remove("popup-active"),e.classList.remove("popup-disabled")}),1001)}L.addEventListener("click",w),h.addEventListener("click",w),document.addEventListener("click",(e=>{e.target===p&&w(),(e.target===u||Array.from(document.querySelectorAll(".nav-list > ul > li > a")).find((t=>t===e.target))||e.target!==m&&m.classList.contains("navigation_fadeIn"))&&(console.log("press"),m.classList.contains("navigation_fadeIn")?(m.classList.remove("navigation_fadeIn"),m.classList.add("navigation_fadeOut"),setTimeout((()=>{m.classList.remove("navigation_fadeOut")}),1001)):(m.classList.remove("navigation_fadeOut"),m.classList.add("navigation_fadeIn")),u.classList.toggle("active"),f.classList.toggle("fadeOut"),g.classList.toggle("fadeOut"),v.classList.toggle("fadeOut"))}));const y=document.querySelector(".progress1"),b=document.querySelector(".progress2");y.addEventListener("input",(function(){const e=this.value;this.style.background=`linear-gradient(to right, #710707 0%, \n    #710707 ${e}%, #fff ${e}%, white 100%)`})),b.addEventListener("input",(function(){const e=this.value;this.style.background=`linear-gradient(to right, #710707 0%, \n    #710707 ${e}%, #fff ${e}%, white 100%)`})),function(){const e=document.querySelector(".picture-inner-container"),t=[];for(let e=1;e<=15;e++){const o=document.createElement("img");o.classList.add("gallery-img"),o.src=`assets/img/galery/galery${e}.jpg`,o.alt=`galery${e}`,t.push(o)}t.sort((()=>.5-Math.random())),t.map((t=>{e.append(t)}))}();const _=document.querySelectorAll(".gallery-img"),E=document.querySelector(".video-container");let T=new IntersectionObserver((function(e){e.forEach((function(e){e.isIntersecting&&e.target.classList.add("show")}))})),S=new IntersectionObserver((function(e){e.forEach((function(e){e.isIntersecting&&_.forEach((function(e){e.classList.remove("show")}))}))}));_.forEach((function(e){T.observe(e)})),S.observe(E),$("html").on("click",".form__right__button",(function(e){let t=$(e.currentTarget),o=e.pageX-t.offset().left,n=e.pageY-t.offset().top;$("<span/>").appendTo(t).css({left:o,top:n})}));const x=document.querySelector(".btn-to-top");window.onscroll=function(){document.body.scrollTop>1e3||document.documentElement.scrollTop>1e3?x.classList.add("active"):x.classList.remove("active")},x.addEventListener("click",(e=>(document.body.scrollTop=0,void(document.documentElement.scrollTop=0)))),mapboxgl.accessToken="pk.eyJ1IjoiYWxleC0tc29rb2xvdiIsImEiOiJja3VwN3Z0NmMyNGlsMzNvNm1mODVuNWt2In0.MjyDbXRmI0UYeSOgjw_ZVQ";let q=new mapboxgl.Map({container:"map",style:"mapbox://styles/mapbox/light-v10",zoom:15.75,center:[2.33637,48.86097]});q.addControl(new mapboxgl.NavigationControl);const M={top:[0,0],"top-left":[0,0],"top-right":[0,0],bottom:[0,-50],"bottom-left":[25,-65],"bottom-right":[-25,-65],left:[10,-40],right:[-10,-40]};new mapboxgl.Marker({color:"#757575"}).setLngLat([2.3332,48.8603]).setPopup(new mapboxgl.Popup({offset:M,closeButton:!1}).setHTML("<h4>Tunnel des Tuileries</h4>")).addTo(q),new mapboxgl.Marker({color:"#757575"}).setLngLat([2.3328,48.8617]).setPopup(new mapboxgl.Popup({offset:M,closeButton:!1}).setHTML("<h4>Arc de Triomphe du Carrousel</h4>")).addTo(q),new mapboxgl.Marker({color:"#171717"}).setLngLat([2.3364,48.8609]).setPopup(new mapboxgl.Popup({offset:M,closeButton:!1}).setHTML("<h4>Louvre Museum</h4>")).addTo(q),new mapboxgl.Marker({color:"#757575"}).setLngLat([2.3366,48.8624]).setPopup(new mapboxgl.Popup({offset:M,closeButton:!1}).setHTML("<h4>Rue de Rivoli</h4>")).addTo(q),new mapboxgl.Marker({color:"#757575"}).setLngLat([2.3397,48.8607]).setPopup(new mapboxgl.Popup({offset:M,closeButton:!1}).setHTML("<h4>Sarcophage d'Abou Roach</h4>")).addTo(q),document.addEventListener("DOMContentLoaded",(()=>{const e=document.querySelector(".video-container"),t=document.querySelector("video"),o=document.querySelector(".video__controls"),n=document.querySelector(".video__play"),s=document.querySelector(".play-control");e.addEventListener("click",(e=>{e.target!==n&&e.target!==s&&e.target!==t||(t.dataset.focus="active","pause"===t.dataset.state?(t.play(),n.classList.add("hide"),s.classList.add("pause"),t.dataset.state="play"):!0===t.ended?(t.currentTime=0,t.play()):(n.classList.remove("hide"),s.classList.remove("pause"),t.pause(),t.dataset.state="pause")),e.target!==n&&e.target!==s&&e.target!==t&&e.target!==o&&(t.dataset.focus="disabled")}))}))})();